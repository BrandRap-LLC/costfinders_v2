---
phase: 37-modal-mobile-optimization
plan: 01
type: execute
---

<objective>
Add responsive mobile variants to the Modal component â€” full-screen on mobile for form-heavy modals, bottom-anchored for simpler dialogs.

Purpose: Mobile users currently see centered modals that don't utilize full screen space and can feel cramped for form entry.
Output: Enhanced Modal component with automatic mobile responsiveness, consistent with BottomSheet patterns.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

**Prior Phase Context:**
@.planning/phases/36-bottom-sheet-component/36-01-SUMMARY.md

**Key Source Files:**
@src/components/ui/modal.tsx
@src/components/ui/bottomSheet.tsx

**Modal Consumers (10 files):**
- authModal.tsx - Multi-step auth flow (form-heavy)
- claimDealModal.tsx - Form with date/time picker
- creditPurchaseModal.tsx - Credit package selection
- businessSearchModal.tsx - Search form
- paymentMethods.tsx - Payment forms
- locationDisplay.tsx - Simple location picker
- dealList.tsx - Confirmation dialogs
- sponsored/page.tsx - Boost management
- account/page.tsx - Account settings modals

**Established Pattern (from BottomSheet):**
- CSS-only responsive variants via Tailwind breakpoints
- Same animation timing (200ms)
- Same glassmorphic styling (bg-bg-secondary, backdrop-blur-xl, border-glass-border)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add mobile responsive variants to Modal component</name>
  <files>src/components/ui/modal.tsx</files>
  <action>
Add a `mobileVariant` prop to Modal with options:
- `default` (current behavior - centered on all screens)
- `fullscreen` (full-screen on mobile, centered on desktop)
- `bottom` (bottom-anchored on mobile like BottomSheet, centered on desktop)

Implementation:
1. Add prop: `mobileVariant?: 'default' | 'fullscreen' | 'bottom'`
2. Add mobile-specific classes using Tailwind breakpoints:
   - fullscreen: `inset-0 md:inset-auto md:top-24` for position, `w-full h-full md:w-auto md:h-auto md:max-w-{size}` for sizing, `rounded-none md:rounded-2xl` for radius
   - bottom: `fixed bottom-0 left-0 right-0 md:relative md:bottom-auto` position, `rounded-t-2xl md:rounded-2xl` radius, `max-h-[90vh] md:max-h-none` height
3. Adjust animation: `slide-in-from-bottom md:fade-in md:zoom-in-95` for bottom variant

Keep backward compatible: mobileVariant defaults to 'default' so existing modals unchanged.
  </action>
  <verify>npm run build passes, TypeScript compiles without errors</verify>
  <done>Modal component has mobileVariant prop with fullscreen and bottom options, all existing modal usages unaffected</done>
</task>

<task type="auto">
  <name>Task 2: Apply mobile variants to form-heavy modals</name>
  <files>src/components/features/authModal.tsx, src/components/features/claimDealModal.tsx, src/components/features/creditPurchaseModal.tsx</files>
  <action>
Update form-heavy modals to use fullscreen variant on mobile:

1. authModal.tsx: Add mobileVariant="fullscreen" - multi-step auth flow benefits from full screen
2. claimDealModal.tsx: Add mobileVariant="fullscreen" - form with multiple fields
3. creditPurchaseModal.tsx: Add mobileVariant="fullscreen" - credit selection needs space

These have forms with multiple inputs where extra screen space improves UX.
  </action>
  <verify>Grep shows mobileVariant="fullscreen" in all three files</verify>
  <done>Auth, claim deal, and credit purchase modals use fullscreen variant on mobile</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Responsive Modal component with mobile fullscreen variant</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Open browser DevTools, set device to mobile (375px width)
    3. Navigate to /deals and click "Sign In" button
    4. Verify: AuthModal takes full screen on mobile
    5. Verify: Glassmorphic styling preserved, animations smooth
    6. Resize to desktop (>768px): Verify modal returns to centered behavior
    7. Navigate to a deal detail, click "Claim Deal"
    8. Verify: ClaimDealModal is fullscreen on mobile, centered on desktop
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors introduced
- [ ] Modal component has mobileVariant prop with type safety
- [ ] Existing modals without mobileVariant unchanged (backward compatible)
- [ ] Form-heavy modals (auth, claim, credit) use fullscreen on mobile
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Modal component responsive: fullscreen option works on mobile, centered on desktop
- Visual verification confirms smooth mobile UX
</success_criteria>

<output>
After completion, create `.planning/phases/37-modal-mobile-optimization/37-01-SUMMARY.md`
</output>
