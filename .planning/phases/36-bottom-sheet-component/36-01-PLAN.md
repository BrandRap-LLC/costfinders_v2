# Plan 36-01: Bottom Sheet Component

## Objective

Create a reusable `BottomSheet` component for mobile menus, filters, and forms. The component slides up from the bottom on mobile devices, supports swipe-to-dismiss gesture, and follows the existing Modal component patterns.

## Context

- **Phase**: 36 - Bottom Sheet Component
- **Milestone**: v1.4 Mobile Polish
- **Depends on**: Phase 35 (Mobile Table Alternatives) - Complete
- **Reference**: `src/components/ui/modal.tsx` for pattern

## Scope

- **Estimate**: Small (30-60 min)
- **Files**: 1 new file
- **Risk**: Low (following established Modal pattern)

## Tasks

### Task 1: Create BottomSheet Component

**File**: `src/components/ui/bottomSheet.tsx`

Create a new `BottomSheet` component with the following features:

```tsx
interface BottomSheetProps {
  isOpen: boolean
  onClose: () => void
  title?: string
  children: ReactNode
  height?: 'auto' | 'half' | 'full'  // Control sheet height
}
```

**Implementation Details**:

1. **Structure** (following Modal pattern):
   - Backdrop with `bg-black/60 backdrop-blur-sm`
   - Sheet container with glassmorphic styling
   - Optional header with title and close button
   - Content area with padding

2. **Positioning**:
   - Fixed to bottom of viewport
   - Full width on mobile
   - Rounded top corners (`rounded-t-2xl`)
   - Max height based on `height` prop

3. **Animation**:
   - Slide up from bottom using Tailwind animate-in
   - Add custom keyframes if needed: `slide-in-from-bottom`
   - Duration: 200ms (matching Modal)

4. **Interactions**:
   - Escape key to close (from Modal pattern)
   - Backdrop click to close
   - Body scroll lock when open
   - Touch swipe down to dismiss (stretch goal)

5. **Styling**:
   ```tsx
   // Sheet container
   className={`
     fixed bottom-0 left-0 right-0 z-50
     bg-bg-secondary backdrop-blur-xl
     border-t border-glass-border
     rounded-t-2xl shadow-elevated
     animate-in slide-in-from-bottom duration-200
   `}
   ```

6. **Height variants**:
   - `auto`: Content-driven height with max-h-[85vh]
   - `half`: Fixed at 50vh
   - `full`: Nearly full screen (90vh) with drag handle

### Task 2: Add Slide Animation Keyframes

**File**: `src/app/globals.css`

Add slide-in-from-bottom animation if not already present:

```css
@keyframes slide-in-from-bottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}
```

Register with Tailwind's animation system.

### Task 3: Export Component

**File**: Verify component exports properly and can be imported.

## Checkpoints

### Checkpoint 1: Component Renders (after Task 1)
- [ ] BottomSheet renders when isOpen=true
- [ ] Backdrop appears with blur effect
- [ ] Sheet slides up from bottom
- [ ] Close button works
- [ ] Escape key closes sheet

### Checkpoint 2: Visual Verification (after Task 2)
- [ ] Animation is smooth (200ms slide up)
- [ ] Glassmorphic styling matches Modal
- [ ] Height variants work correctly
- [ ] Mobile viewport looks correct

## Success Criteria

- [ ] BottomSheet component created at `src/components/ui/bottomSheet.tsx`
- [ ] All three height variants work (`auto`, `half`, `full`)
- [ ] Escape key and backdrop click close the sheet
- [ ] Animation matches design system (slide up, 200ms)
- [ ] Body scroll locked when open
- [ ] Visual verification via browser automation

## Files to Create/Modify

| File | Action | Purpose |
|------|--------|---------|
| `src/components/ui/bottomSheet.tsx` | Create | New BottomSheet component |
| `src/app/globals.css` | Modify | Add slide animation keyframes |

## Technical Notes

- Follow Modal component pattern exactly for consistency
- Use `useCallback` and `useEffect` for event handlers (same as Modal)
- No external dependencies needed - CSS animations only
- Swipe gesture is a stretch goal for Phase 38 (Touch Gesture Foundation)

## Out of Scope

- Touch swipe-to-dismiss gesture (Phase 38)
- Desktop drawer variant
- Nested bottom sheets
- Custom animation durations
