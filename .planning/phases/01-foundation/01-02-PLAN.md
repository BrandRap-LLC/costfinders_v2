---
phase: 01-foundation
plan: 02
type: execute
---

<objective>
Build glassmorphic design system with tokens and base UI components.

Purpose: Establish consistent visual language and reusable primitives that all features will use.
Output: Design tokens in lib/design-tokens.ts and base components in components/ui/ (Button, Card, Input, Badge, Modal).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@CLAUDE.md

**Depends on:** 01-01-PLAN.md (project setup complete)

**Design direction (from PROJECT.md and CLAUDE.md):**
- Glassmorphic, medium-dark theme
- Strategic whitespace
- Phosphor icons (light weight default, fill for active)
- Grounded shadows
- Manrope font
- References: Kayak, Groupon, Zocdoc

**Component architecture (from CLAUDE.md):**
- ui/ layer: Design primitives, no business logic
- Can only import from external libraries
- All components are Server Components by default, add 'use client' only when needed

**Design tokens (Tier 2):**
- JS tokens in src/lib/design-tokens.ts
- Extend CSS variables from globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create design tokens system</name>
  <files>src/lib/design-tokens.ts, src/app/globals.css</files>
  <action>
1. Enhance globals.css CSS variables with complete token set:
   ```css
   :root {
     /* Typography */
     --font-sans: var(--font-manrope), system-ui, sans-serif;

     /* Colors - Base */
     --color-bg-primary: #0a0a0f;
     --color-bg-secondary: #12121a;
     --color-bg-tertiary: #1a1a24;

     /* Colors - Glass */
     --color-glass-bg: rgba(255, 255, 255, 0.03);
     --color-glass-bg-hover: rgba(255, 255, 255, 0.06);
     --color-glass-border: rgba(255, 255, 255, 0.08);
     --color-glass-border-hover: rgba(255, 255, 255, 0.12);

     /* Colors - Text */
     --color-text-primary: #ffffff;
     --color-text-secondary: #a1a1aa;
     --color-text-tertiary: #71717a;
     --color-text-muted: #52525b;

     /* Colors - Brand */
     --color-brand-primary: #FF6D00;
     --color-brand-secondary: #FF8F00;
     --color-brand-tertiary: #FFB300;

     /* Colors - Semantic */
     --color-success: #22c55e;
     --color-warning: #f59e0b;
     --color-error: #ef4444;
     --color-info: #3b82f6;

     /* Shadows */
     --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
     --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
     --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.3);
     --shadow-glass: 0 4px 30px rgba(0, 0, 0, 0.2);
     --shadow-elevated: 0 8px 40px rgba(0, 0, 0, 0.35);

     /* Blur */
     --blur-sm: 4px;
     --blur-md: 8px;
     --blur-lg: 16px;
     --blur-xl: 24px;

     /* Radius */
     --radius-sm: 0.375rem;
     --radius-md: 0.5rem;
     --radius-lg: 0.75rem;
     --radius-xl: 1rem;
     --radius-2xl: 1.5rem;
     --radius-full: 9999px;

     /* Spacing scale */
     --space-1: 0.25rem;
     --space-2: 0.5rem;
     --space-3: 0.75rem;
     --space-4: 1rem;
     --space-5: 1.25rem;
     --space-6: 1.5rem;
     --space-8: 2rem;
     --space-10: 2.5rem;
     --space-12: 3rem;
     --space-16: 4rem;

     /* Transitions */
     --transition-fast: 150ms ease;
     --transition-normal: 200ms ease;
     --transition-slow: 300ms ease;
   }
   ```

2. Create src/lib/design-tokens.ts for programmatic access:
   ```typescript
   export const colors = {
     bg: {
       primary: 'var(--color-bg-primary)',
       secondary: 'var(--color-bg-secondary)',
       tertiary: 'var(--color-bg-tertiary)',
     },
     glass: {
       bg: 'var(--color-glass-bg)',
       bgHover: 'var(--color-glass-bg-hover)',
       border: 'var(--color-glass-border)',
       borderHover: 'var(--color-glass-border-hover)',
     },
     text: {
       primary: 'var(--color-text-primary)',
       secondary: 'var(--color-text-secondary)',
       tertiary: 'var(--color-text-tertiary)',
       muted: 'var(--color-text-muted)',
     },
     brand: {
       primary: 'var(--color-brand-primary)',
       secondary: 'var(--color-brand-secondary)',
       tertiary: 'var(--color-brand-tertiary)',
     },
     semantic: {
       success: 'var(--color-success)',
       warning: 'var(--color-warning)',
       error: 'var(--color-error)',
       info: 'var(--color-info)',
     },
   } as const

   export const shadows = {
     sm: 'var(--shadow-sm)',
     md: 'var(--shadow-md)',
     lg: 'var(--shadow-lg)',
     glass: 'var(--shadow-glass)',
     elevated: 'var(--shadow-elevated)',
   } as const

   export const blur = {
     sm: 'var(--blur-sm)',
     md: 'var(--blur-md)',
     lg: 'var(--blur-lg)',
     xl: 'var(--blur-xl)',
   } as const

   export const radius = {
     sm: 'var(--radius-sm)',
     md: 'var(--radius-md)',
     lg: 'var(--radius-lg)',
     xl: 'var(--radius-xl)',
     '2xl': 'var(--radius-2xl)',
     full: 'var(--radius-full)',
   } as const
   ```

3. Add Tailwind v4 theme extension in globals.css using @theme:
   ```css
   @theme {
     --color-bg-primary: #0a0a0f;
     --color-bg-secondary: #12121a;
     --color-bg-tertiary: #1a1a24;
     --color-glass-bg: rgba(255, 255, 255, 0.03);
     --color-glass-border: rgba(255, 255, 255, 0.08);
     --color-brand-primary: #FF6D00;
     --color-brand-secondary: #FF8F00;
     --color-text-primary: #ffffff;
     --color-text-secondary: #a1a1aa;
     --color-text-tertiary: #71717a;
   }
   ```
  </action>
  <verify>TypeScript compiles, tokens importable, Tailwind classes work (e.g., bg-brand-primary)</verify>
  <done>Complete design token system in CSS variables and TypeScript, Tailwind v4 theme configured</done>
</task>

<task type="auto">
  <name>Task 2: Create Button and Badge components</name>
  <files>src/components/ui/button.tsx, src/components/ui/badge.tsx</files>
  <action>
1. Create src/components/ui/button.tsx:
   ```tsx
   'use client'

   import { forwardRef, type ButtonHTMLAttributes } from 'react'

   type ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'danger'
   type ButtonSize = 'sm' | 'md' | 'lg'

   interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
     variant?: ButtonVariant
     size?: ButtonSize
     isLoading?: boolean
   }

   const variants: Record<ButtonVariant, string> = {
     primary: 'bg-brand-primary hover:bg-brand-secondary text-white shadow-md hover:shadow-lg',
     secondary: 'bg-glass-bg hover:bg-glass-bg-hover border border-glass-border text-text-primary backdrop-blur-md',
     ghost: 'hover:bg-glass-bg text-text-secondary hover:text-text-primary',
     danger: 'bg-red-600 hover:bg-red-700 text-white',
   }

   const sizes: Record<ButtonSize, string> = {
     sm: 'px-3 py-1.5 text-sm',
     md: 'px-4 py-2 text-sm',
     lg: 'px-6 py-3 text-base',
   }

   export const Button = forwardRef<HTMLButtonElement, ButtonProps>(
     ({ className = '', variant = 'primary', size = 'md', isLoading, disabled, children, ...props }, ref) => {
       return (
         <button
           ref={ref}
           disabled={disabled || isLoading}
           className={`
             inline-flex items-center justify-center gap-2
             font-medium rounded-xl
             transition-all duration-200
             focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:ring-offset-2 focus:ring-offset-bg-primary
             disabled:opacity-50 disabled:cursor-not-allowed
             ${variants[variant]}
             ${sizes[size]}
             ${className}
           `}
           {...props}
         >
           {isLoading && (
             <svg className="animate-spin h-4 w-4" viewBox="0 0 24 24">
               <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
               <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z" />
             </svg>
           )}
           {children}
         </button>
       )
     }
   )

   Button.displayName = 'Button'
   ```

2. Create src/components/ui/badge.tsx:
   ```tsx
   import type { ReactNode } from 'react'

   type BadgeVariant = 'default' | 'success' | 'warning' | 'error' | 'info' | 'brand'
   type BadgeSize = 'sm' | 'md'

   interface BadgeProps {
     children: ReactNode
     variant?: BadgeVariant
     size?: BadgeSize
     className?: string
   }

   const variants: Record<BadgeVariant, string> = {
     default: 'bg-glass-bg border-glass-border text-text-secondary',
     success: 'bg-green-500/10 border-green-500/20 text-green-400',
     warning: 'bg-amber-500/10 border-amber-500/20 text-amber-400',
     error: 'bg-red-500/10 border-red-500/20 text-red-400',
     info: 'bg-blue-500/10 border-blue-500/20 text-blue-400',
     brand: 'bg-brand-primary/10 border-brand-primary/20 text-brand-primary',
   }

   const sizes: Record<BadgeSize, string> = {
     sm: 'px-2 py-0.5 text-xs',
     md: 'px-2.5 py-1 text-sm',
   }

   export function Badge({ children, variant = 'default', size = 'sm', className = '' }: BadgeProps) {
     return (
       <span
         className={`
           inline-flex items-center
           font-medium rounded-full
           border backdrop-blur-sm
           ${variants[variant]}
           ${sizes[size]}
           ${className}
         `}
       >
         {children}
       </span>
     )
   }
   ```
  </action>
  <verify>TypeScript compiles, components render correctly when imported</verify>
  <done>Button component with 4 variants and 3 sizes, Badge component with 6 variants</done>
</task>

<task type="auto">
  <name>Task 3: Create Card, Input, and Modal components</name>
  <files>src/components/ui/card.tsx, src/components/ui/input.tsx, src/components/ui/modal.tsx</files>
  <action>
1. Create src/components/ui/card.tsx (glassmorphic card):
   ```tsx
   import type { ReactNode, HTMLAttributes } from 'react'

   interface CardProps extends HTMLAttributes<HTMLDivElement> {
     children: ReactNode
     variant?: 'glass' | 'solid' | 'outline'
     padding?: 'none' | 'sm' | 'md' | 'lg'
     hover?: boolean
   }

   const variants = {
     glass: 'bg-glass-bg backdrop-blur-lg border border-glass-border shadow-glass',
     solid: 'bg-bg-secondary border border-glass-border shadow-md',
     outline: 'bg-transparent border border-glass-border',
   }

   const paddings = {
     none: '',
     sm: 'p-3',
     md: 'p-4',
     lg: 'p-6',
   }

   export function Card({
     children,
     variant = 'glass',
     padding = 'md',
     hover = false,
     className = '',
     ...props
   }: CardProps) {
     return (
       <div
         className={`
           rounded-2xl
           ${variants[variant]}
           ${paddings[padding]}
           ${hover ? 'transition-all duration-200 hover:border-glass-border-hover hover:shadow-elevated cursor-pointer' : ''}
           ${className}
         `}
         {...props}
       >
         {children}
       </div>
     )
   }

   export function CardHeader({ children, className = '' }: { children: ReactNode; className?: string }) {
     return <div className={`mb-4 ${className}`}>{children}</div>
   }

   export function CardTitle({ children, className = '' }: { children: ReactNode; className?: string }) {
     return <h3 className={`text-lg font-semibold text-text-primary ${className}`}>{children}</h3>
   }

   export function CardDescription({ children, className = '' }: { children: ReactNode; className?: string }) {
     return <p className={`text-sm text-text-secondary mt-1 ${className}`}>{children}</p>
   }

   export function CardContent({ children, className = '' }: { children: ReactNode; className?: string }) {
     return <div className={className}>{children}</div>
   }

   export function CardFooter({ children, className = '' }: { children: ReactNode; className?: string }) {
     return <div className={`mt-4 pt-4 border-t border-glass-border ${className}`}>{children}</div>
   }
   ```

2. Create src/components/ui/input.tsx:
   ```tsx
   'use client'

   import { forwardRef, type InputHTMLAttributes } from 'react'

   interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
     label?: string
     error?: string
     hint?: string
   }

   export const Input = forwardRef<HTMLInputElement, InputProps>(
     ({ label, error, hint, className = '', id, ...props }, ref) => {
       const inputId = id || label?.toLowerCase().replace(/\s+/g, '-')

       return (
         <div className="w-full">
           {label && (
             <label
               htmlFor={inputId}
               className="block text-sm font-medium text-text-secondary mb-1.5"
             >
               {label}
             </label>
           )}
           <input
             ref={ref}
             id={inputId}
             className={`
               w-full px-4 py-2.5
               bg-glass-bg backdrop-blur-md
               border rounded-xl
               text-text-primary placeholder:text-text-muted
               transition-all duration-200
               focus:outline-none focus:ring-2 focus:ring-brand-primary/50
               disabled:opacity-50 disabled:cursor-not-allowed
               ${error
                 ? 'border-red-500/50 focus:border-red-500'
                 : 'border-glass-border hover:border-glass-border-hover focus:border-brand-primary/50'
               }
               ${className}
             `}
             {...props}
           />
           {hint && !error && (
             <p className="mt-1.5 text-xs text-text-tertiary">{hint}</p>
           )}
           {error && (
             <p className="mt-1.5 text-xs text-red-400">{error}</p>
           )}
         </div>
       )
     }
   )

   Input.displayName = 'Input'
   ```

3. Create src/components/ui/modal.tsx:
   ```tsx
   'use client'

   import { useEffect, useCallback, type ReactNode } from 'react'
   import { X } from '@phosphor-icons/react'

   interface ModalProps {
     isOpen: boolean
     onClose: () => void
     title?: string
     children: ReactNode
     size?: 'sm' | 'md' | 'lg' | 'xl'
   }

   const sizes = {
     sm: 'max-w-sm',
     md: 'max-w-md',
     lg: 'max-w-lg',
     xl: 'max-w-xl',
   }

   export function Modal({ isOpen, onClose, title, children, size = 'md' }: ModalProps) {
     const handleEscape = useCallback((e: KeyboardEvent) => {
       if (e.key === 'Escape') onClose()
     }, [onClose])

     useEffect(() => {
       if (isOpen) {
         document.addEventListener('keydown', handleEscape)
         document.body.style.overflow = 'hidden'
       }
       return () => {
         document.removeEventListener('keydown', handleEscape)
         document.body.style.overflow = 'unset'
       }
     }, [isOpen, handleEscape])

     if (!isOpen) return null

     return (
       <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
         {/* Backdrop */}
         <div
           className="absolute inset-0 bg-black/60 backdrop-blur-sm"
           onClick={onClose}
         />

         {/* Modal */}
         <div
           className={`
             relative w-full ${sizes[size]}
             bg-bg-secondary backdrop-blur-xl
             border border-glass-border
             rounded-2xl shadow-elevated
             animate-in fade-in zoom-in-95 duration-200
           `}
           role="dialog"
           aria-modal="true"
         >
           {/* Header */}
           {title && (
             <div className="flex items-center justify-between px-6 py-4 border-b border-glass-border">
               <h2 className="text-lg font-semibold text-text-primary">{title}</h2>
               <button
                 onClick={onClose}
                 className="p-1 rounded-lg text-text-tertiary hover:text-text-primary hover:bg-glass-bg transition-colors"
               >
                 <X size={20} weight="bold" />
               </button>
             </div>
           )}

           {/* Content */}
           <div className={title ? 'p-6' : 'p-6 pt-4'}>
             {!title && (
               <button
                 onClick={onClose}
                 className="absolute top-4 right-4 p-1 rounded-lg text-text-tertiary hover:text-text-primary hover:bg-glass-bg transition-colors"
               >
                 <X size={20} weight="bold" />
               </button>
             )}
             {children}
           </div>
         </div>
       </div>
     )
   }
   ```
  </action>
  <verify>TypeScript compiles, all components render, Modal opens/closes correctly</verify>
  <done>Card component with subcomponents, Input with validation states, Modal with backdrop and escape handling</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Design tokens load correctly (CSS variables + TypeScript)
- [ ] Tailwind v4 theme extensions work (bg-brand-primary, text-text-secondary, etc.)
- [ ] Button renders all variants (primary, secondary, ghost, danger)
- [ ] Badge renders all variants
- [ ] Card renders glass effect with backdrop blur
- [ ] Input shows label, error, hint states correctly
- [ ] Modal opens, closes, responds to Escape key
- [ ] `npm run build` succeeds
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Design tokens accessible via CSS and TypeScript
- 5 base components created: Button, Badge, Card, Input, Modal
- All components follow glassmorphic design direction
- Components are 'use client' only where needed (Button, Input, Modal)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
