---
phase: 01-foundation
plan: 03
type: execute
---

<objective>
Create mock data layer with TypeScript types and fixtures structured for Supabase schema.

Purpose: Enable UI development with realistic data that mirrors the backend team's Supabase structure.
Output: Complete type definitions and mock fixtures for deals, businesses, consumers, claims, and locations.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@CLAUDE.md

**Depends on:** 01-01-PLAN.md (project structure), 01-02-PLAN.md (design tokens)

**Data model context (from PROJECT.md):**
- Deals: Anonymous until claimed (pricing visible, business hidden)
- Businesses: Three tiers (Unclaimed → Free → Paid)
- Consumers: Account creation triggers business reveal
- Claims: Status flow (Pending → Contacted → Booked → Completed)
- Locations: City + area based (auto-detect + manual override)

**Core medspa categories (from PROJECT.md):**
- Botox, fillers, facials, lasers for v1 mock data

**"Anonymous Until Committed" principle:**
- Consumers see: treatment, pricing, location area, rating
- Hidden until verified account: business name, address, phone, specific location
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create core TypeScript type definitions</name>
  <files>src/types/index.ts, src/types/deal.ts, src/types/business.ts, src/types/consumer.ts, src/types/claim.ts, src/types/location.ts</files>
  <action>
1. Create src/types/deal.ts:
   ```typescript
   export type TreatmentCategory = 'botox' | 'fillers' | 'facials' | 'laser' | 'body' | 'skincare'

   export interface Deal {
     id: string
     businessId: string
     title: string
     description: string
     category: TreatmentCategory
     originalPrice: number
     dealPrice: number
     discountPercent: number
     unit: string // e.g., "per unit", "per session", "per area"
     minUnits?: number
     maxUnits?: number
     validFrom: string // ISO date
     validUntil: string // ISO date
     termsAndConditions: string
     imageUrl?: string
     isActive: boolean
     isFeatured: boolean
     isSponsored: boolean
     claimCount: number
     viewCount: number
     createdAt: string
     updatedAt: string
   }

   // What consumers see before verification
   export interface AnonymousDeal extends Omit<Deal, 'businessId'> {
     locationArea: string // e.g., "Downtown Austin"
     businessRating: number
     businessReviewCount: number
     businessTier: 'unclaimed' | 'free' | 'paid'
   }
   ```

2. Create src/types/business.ts:
   ```typescript
   export type BusinessTier = 'unclaimed' | 'free' | 'paid'
   export type BusinessStatus = 'active' | 'pending' | 'suspended'

   export interface Business {
     id: string
     name: string
     slug: string
     description: string
     tier: BusinessTier
     status: BusinessStatus
     // Location
     address: string
     city: string
     state: string
     zipCode: string
     locationArea: string // e.g., "Downtown", "North Side"
     latitude: number
     longitude: number
     // Contact
     phone: string
     email: string
     website?: string
     // Profile
     logoUrl?: string
     coverImageUrl?: string
     // Ratings
     rating: number
     reviewCount: number
     // Verification
     isVerified: boolean
     verifiedAt?: string
     claimedBy?: string // consumer/owner userId
     claimedAt?: string
     // Timestamps
     createdAt: string
     updatedAt: string
   }

   // Revealed after consumer verification
   export interface RevealedBusiness {
     id: string
     name: string
     address: string
     city: string
     state: string
     phone: string
     website?: string
     logoUrl?: string
   }
   ```

3. Create src/types/consumer.ts:
   ```typescript
   export type VerificationStatus = 'unverified' | 'email_verified' | 'phone_verified' | 'fully_verified'

   export interface Consumer {
     id: string
     email: string
     phone?: string
     firstName?: string
     lastName?: string
     avatarUrl?: string
     // Verification
     verificationStatus: VerificationStatus
     emailVerifiedAt?: string
     phoneVerifiedAt?: string
     // Preferences
     locationCity?: string
     locationState?: string
     alertsEmail: boolean
     alertsSms: boolean
     favoriteCategories: string[]
     // Timestamps
     createdAt: string
     updatedAt: string
     lastLoginAt?: string
   }

   export interface ConsumerPreferences {
     alertsEmail: boolean
     alertsSms: boolean
     favoriteCategories: string[]
     savedDeals: string[] // deal IDs
   }
   ```

4. Create src/types/claim.ts:
   ```typescript
   export type ClaimStatus = 'pending' | 'contacted' | 'booked' | 'completed' | 'cancelled' | 'expired'

   export interface Claim {
     id: string
     dealId: string
     consumerId: string
     businessId: string
     status: ClaimStatus
     // Request details
     preferredDate?: string
     preferredTime?: string
     notes?: string
     // Response
     businessResponse?: string
     respondedAt?: string
     // Booking
     bookedDate?: string
     bookedTime?: string
     // Timestamps
     createdAt: string
     updatedAt: string
     expiresAt: string // claims expire if not responded to
   }
   ```

5. Create src/types/location.ts:
   ```typescript
   export interface City {
     id: string
     name: string
     state: string
     stateCode: string
     latitude: number
     longitude: number
     timezone: string
     isActive: boolean
   }

   export interface LocationArea {
     id: string
     cityId: string
     name: string // e.g., "Downtown", "North Austin", "South Side"
     latitude: number
     longitude: number
     radiusMiles: number
   }

   export interface UserLocation {
     city: string
     state: string
     latitude: number
     longitude: number
     source: 'geolocation' | 'ip' | 'manual'
   }
   ```

6. Create src/types/index.ts (barrel export):
   ```typescript
   export * from './deal'
   export * from './business'
   export * from './consumer'
   export * from './claim'
   export * from './location'
   ```
  </action>
  <verify>TypeScript compiles with no errors, types are importable from @/types</verify>
  <done>Complete type system for deals, businesses, consumers, claims, locations matching Supabase schema structure</done>
</task>

<task type="auto">
  <name>Task 2: Create mock data fixtures</name>
  <files>src/lib/mock-data/businesses.ts, src/lib/mock-data/deals.ts, src/lib/mock-data/consumers.ts, src/lib/mock-data/locations.ts</files>
  <action>
1. Create src/lib/mock-data/locations.ts with 3 active cities:
   ```typescript
   import type { City, LocationArea } from '@/types'

   export const cities: City[] = [
     {
       id: 'city-austin',
       name: 'Austin',
       state: 'Texas',
       stateCode: 'TX',
       latitude: 30.2672,
       longitude: -97.7431,
       timezone: 'America/Chicago',
       isActive: true,
     },
     {
       id: 'city-dallas',
       name: 'Dallas',
       state: 'Texas',
       stateCode: 'TX',
       latitude: 32.7767,
       longitude: -96.7970,
       timezone: 'America/Chicago',
       isActive: true,
     },
     {
       id: 'city-houston',
       name: 'Houston',
       state: 'Texas',
       stateCode: 'TX',
       latitude: 29.7604,
       longitude: -95.3698,
       timezone: 'America/Chicago',
       isActive: true,
     },
   ]

   export const locationAreas: LocationArea[] = [
     // Austin areas
     { id: 'area-austin-downtown', cityId: 'city-austin', name: 'Downtown Austin', latitude: 30.2672, longitude: -97.7431, radiusMiles: 3 },
     { id: 'area-austin-north', cityId: 'city-austin', name: 'North Austin', latitude: 30.3672, longitude: -97.7431, radiusMiles: 5 },
     { id: 'area-austin-south', cityId: 'city-austin', name: 'South Austin', latitude: 30.2072, longitude: -97.7631, radiusMiles: 5 },
     // Dallas areas
     { id: 'area-dallas-uptown', cityId: 'city-dallas', name: 'Uptown Dallas', latitude: 32.8067, longitude: -96.8070, radiusMiles: 3 },
     { id: 'area-dallas-downtown', cityId: 'city-dallas', name: 'Downtown Dallas', latitude: 32.7767, longitude: -96.7970, radiusMiles: 3 },
     // Houston areas
     { id: 'area-houston-heights', cityId: 'city-houston', name: 'The Heights', latitude: 29.8004, longitude: -95.3998, radiusMiles: 3 },
     { id: 'area-houston-galleria', cityId: 'city-houston', name: 'Galleria Area', latitude: 29.7383, longitude: -95.4616, radiusMiles: 4 },
   ]
   ```

2. Create src/lib/mock-data/businesses.ts with 6 businesses (2 per tier):
   ```typescript
   import type { Business } from '@/types'

   export const businesses: Business[] = [
     // Unclaimed businesses (scraped data)
     {
       id: 'biz-1',
       name: 'Glow Aesthetics',
       slug: 'glow-aesthetics-austin',
       description: 'Premium medical spa offering the latest in aesthetic treatments.',
       tier: 'unclaimed',
       status: 'active',
       address: '123 Congress Ave',
       city: 'Austin',
       state: 'TX',
       zipCode: '78701',
       locationArea: 'Downtown Austin',
       latitude: 30.2672,
       longitude: -97.7431,
       phone: '(512) 555-0101',
       email: 'info@glowaesthetics.com',
       website: 'https://glowaesthetics.com',
       rating: 4.8,
       reviewCount: 127,
       isVerified: false,
       createdAt: '2024-01-15T10:00:00Z',
       updatedAt: '2024-01-15T10:00:00Z',
     },
     {
       id: 'biz-2',
       name: 'Radiance Med Spa',
       slug: 'radiance-med-spa-dallas',
       description: 'Your destination for transformative beauty treatments.',
       tier: 'unclaimed',
       status: 'active',
       address: '456 McKinney Ave',
       city: 'Dallas',
       state: 'TX',
       zipCode: '75201',
       locationArea: 'Uptown Dallas',
       latitude: 32.8067,
       longitude: -96.8070,
       phone: '(214) 555-0202',
       email: 'hello@radiancemedspa.com',
       rating: 4.6,
       reviewCount: 89,
       isVerified: false,
       createdAt: '2024-02-01T10:00:00Z',
       updatedAt: '2024-02-01T10:00:00Z',
     },
     // Free tier businesses (claimed)
     {
       id: 'biz-3',
       name: 'Luxe Skin Studio',
       slug: 'luxe-skin-studio-austin',
       description: 'Expert injectors and skincare specialists in North Austin.',
       tier: 'free',
       status: 'active',
       address: '789 Domain Dr',
       city: 'Austin',
       state: 'TX',
       zipCode: '78758',
       locationArea: 'North Austin',
       latitude: 30.3672,
       longitude: -97.7431,
       phone: '(512) 555-0303',
       email: 'appointments@luxeskin.com',
       website: 'https://luxeskinstudio.com',
       logoUrl: '/mock/logos/luxe-skin.png',
       rating: 4.9,
       reviewCount: 203,
       isVerified: true,
       verifiedAt: '2024-03-01T10:00:00Z',
       claimedBy: 'owner-1',
       claimedAt: '2024-02-28T10:00:00Z',
       createdAt: '2024-01-20T10:00:00Z',
       updatedAt: '2024-03-01T10:00:00Z',
     },
     {
       id: 'biz-4',
       name: 'Rejuvenate MedSpa',
       slug: 'rejuvenate-medspa-houston',
       description: 'Advanced aesthetic treatments in The Heights.',
       tier: 'free',
       status: 'active',
       address: '321 Heights Blvd',
       city: 'Houston',
       state: 'TX',
       zipCode: '77008',
       locationArea: 'The Heights',
       latitude: 29.8004,
       longitude: -95.3998,
       phone: '(713) 555-0404',
       email: 'book@rejuvenatemedspa.com',
       rating: 4.7,
       reviewCount: 156,
       isVerified: true,
       verifiedAt: '2024-02-15T10:00:00Z',
       claimedBy: 'owner-2',
       claimedAt: '2024-02-14T10:00:00Z',
       createdAt: '2024-01-25T10:00:00Z',
       updatedAt: '2024-02-15T10:00:00Z',
     },
     // Paid tier businesses (premium features)
     {
       id: 'biz-5',
       name: 'Elite Aesthetics',
       slug: 'elite-aesthetics-austin',
       description: 'Award-winning med spa with celebrity clientele. Featured in Austin Monthly.',
       tier: 'paid',
       status: 'active',
       address: '100 South Congress',
       city: 'Austin',
       state: 'TX',
       zipCode: '78704',
       locationArea: 'South Austin',
       latitude: 30.2072,
       longitude: -97.7631,
       phone: '(512) 555-0505',
       email: 'vip@eliteaesthetics.com',
       website: 'https://eliteaesthetics.com',
       logoUrl: '/mock/logos/elite.png',
       coverImageUrl: '/mock/covers/elite-cover.jpg',
       rating: 4.95,
       reviewCount: 412,
       isVerified: true,
       verifiedAt: '2024-01-10T10:00:00Z',
       claimedBy: 'owner-3',
       claimedAt: '2024-01-09T10:00:00Z',
       createdAt: '2024-01-01T10:00:00Z',
       updatedAt: '2024-03-15T10:00:00Z',
     },
     {
       id: 'biz-6',
       name: 'The Beauty Lab',
       slug: 'the-beauty-lab-dallas',
       description: 'Luxury medical aesthetics in the heart of Dallas.',
       tier: 'paid',
       status: 'active',
       address: '500 Main Street',
       city: 'Dallas',
       state: 'TX',
       zipCode: '75201',
       locationArea: 'Downtown Dallas',
       latitude: 32.7767,
       longitude: -96.7970,
       phone: '(214) 555-0606',
       email: 'concierge@thebeautylab.com',
       website: 'https://thebeautylab.com',
       logoUrl: '/mock/logos/beauty-lab.png',
       coverImageUrl: '/mock/covers/beauty-lab-cover.jpg',
       rating: 4.85,
       reviewCount: 289,
       isVerified: true,
       verifiedAt: '2024-01-05T10:00:00Z',
       claimedBy: 'owner-4',
       claimedAt: '2024-01-04T10:00:00Z',
       createdAt: '2023-12-01T10:00:00Z',
       updatedAt: '2024-03-10T10:00:00Z',
     },
   ]
   ```

3. Create src/lib/mock-data/deals.ts with 12+ deals across categories:
   ```typescript
   import type { Deal, AnonymousDeal } from '@/types'
   import { businesses } from './businesses'

   export const deals: Deal[] = [
     // Botox deals
     {
       id: 'deal-1',
       businessId: 'biz-1',
       title: 'Botox Special',
       description: 'FDA-approved Botox by certified injectors. Perfect for forehead lines, crow\'s feet, and frown lines.',
       category: 'botox',
       originalPrice: 14,
       dealPrice: 10,
       discountPercent: 29,
       unit: 'per unit',
       minUnits: 20,
       maxUnits: 60,
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'New clients only. Cannot be combined with other offers.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 45,
       viewCount: 1250,
       createdAt: '2024-01-15T10:00:00Z',
       updatedAt: '2024-01-15T10:00:00Z',
     },
     {
       id: 'deal-2',
       businessId: 'biz-5',
       title: 'Premium Botox Experience',
       description: 'VIP Botox treatment with complimentary consultation and aftercare kit.',
       category: 'botox',
       originalPrice: 16,
       dealPrice: 12,
       discountPercent: 25,
       unit: 'per unit',
       minUnits: 15,
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Includes numbing cream and post-treatment skincare samples.',
       isActive: true,
       isFeatured: true,
       isSponsored: true,
       claimCount: 89,
       viewCount: 3200,
       createdAt: '2024-01-01T10:00:00Z',
       updatedAt: '2024-03-01T10:00:00Z',
     },
     // Filler deals
     {
       id: 'deal-3',
       businessId: 'biz-3',
       title: 'Juvederm Lip Filler',
       description: 'Natural-looking lip enhancement with Juvederm Ultra XC.',
       category: 'fillers',
       originalPrice: 650,
       dealPrice: 499,
       discountPercent: 23,
       unit: 'per syringe',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'First syringe only at discounted rate.',
       isActive: true,
       isFeatured: true,
       isSponsored: false,
       claimCount: 67,
       viewCount: 2100,
       createdAt: '2024-02-01T10:00:00Z',
       updatedAt: '2024-02-01T10:00:00Z',
     },
     {
       id: 'deal-4',
       businessId: 'biz-2',
       title: 'Cheek Filler Special',
       description: 'Restore volume and contour with premium HA fillers.',
       category: 'fillers',
       originalPrice: 800,
       dealPrice: 599,
       discountPercent: 25,
       unit: 'per syringe',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Includes follow-up appointment.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 34,
       viewCount: 980,
       createdAt: '2024-02-15T10:00:00Z',
       updatedAt: '2024-02-15T10:00:00Z',
     },
     // Facial deals
     {
       id: 'deal-5',
       businessId: 'biz-4',
       title: 'HydraFacial MD',
       description: 'Deep cleanse, exfoliate, and hydrate with patented technology.',
       category: 'facials',
       originalPrice: 199,
       dealPrice: 149,
       discountPercent: 25,
       unit: 'per session',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Includes LED light therapy add-on.',
       isActive: true,
       isFeatured: true,
       isSponsored: false,
       claimCount: 112,
       viewCount: 2800,
       createdAt: '2024-01-20T10:00:00Z',
       updatedAt: '2024-01-20T10:00:00Z',
     },
     {
       id: 'deal-6',
       businessId: 'biz-6',
       title: 'Signature Luxury Facial',
       description: '90-minute customized facial with premium products.',
       category: 'facials',
       originalPrice: 275,
       dealPrice: 199,
       discountPercent: 28,
       unit: 'per session',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Includes take-home skincare sample set.',
       isActive: true,
       isFeatured: false,
       isSponsored: true,
       claimCount: 78,
       viewCount: 1900,
       createdAt: '2024-02-10T10:00:00Z',
       updatedAt: '2024-02-10T10:00:00Z',
     },
     // Laser deals
     {
       id: 'deal-7',
       businessId: 'biz-1',
       title: 'Laser Hair Removal - Small Area',
       description: 'Permanent hair reduction for underarms, bikini line, or upper lip.',
       category: 'laser',
       originalPrice: 150,
       dealPrice: 99,
       discountPercent: 34,
       unit: 'per session',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Package of 6 sessions recommended. Price per session.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 156,
       viewCount: 4200,
       createdAt: '2024-01-25T10:00:00Z',
       updatedAt: '2024-01-25T10:00:00Z',
     },
     {
       id: 'deal-8',
       businessId: 'biz-5',
       title: 'IPL Photofacial',
       description: 'Treat sun damage, age spots, and redness with intense pulsed light.',
       category: 'laser',
       originalPrice: 350,
       dealPrice: 249,
       discountPercent: 29,
       unit: 'per session',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Series of 3 treatments recommended.',
       isActive: true,
       isFeatured: true,
       isSponsored: true,
       claimCount: 45,
       viewCount: 1600,
       createdAt: '2024-02-05T10:00:00Z',
       updatedAt: '2024-02-05T10:00:00Z',
     },
     // More deals for variety
     {
       id: 'deal-9',
       businessId: 'biz-3',
       title: 'Dysport Special',
       description: 'Alternative to Botox with faster onset.',
       category: 'botox',
       originalPrice: 5,
       dealPrice: 3.50,
       discountPercent: 30,
       unit: 'per unit',
       minUnits: 50,
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Minimum 50 units required.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 23,
       viewCount: 780,
       createdAt: '2024-03-01T10:00:00Z',
       updatedAt: '2024-03-01T10:00:00Z',
     },
     {
       id: 'deal-10',
       businessId: 'biz-4',
       title: 'Chemical Peel Package',
       description: 'Series of 3 progressive chemical peels for skin renewal.',
       category: 'facials',
       originalPrice: 450,
       dealPrice: 299,
       discountPercent: 34,
       unit: 'per package',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: '3 sessions, scheduled 4 weeks apart.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 41,
       viewCount: 1100,
       createdAt: '2024-02-20T10:00:00Z',
       updatedAt: '2024-02-20T10:00:00Z',
     },
     {
       id: 'deal-11',
       businessId: 'biz-6',
       title: 'Full Face Filler Package',
       description: 'Comprehensive facial balancing with 3 syringes of premium filler.',
       category: 'fillers',
       originalPrice: 2400,
       dealPrice: 1799,
       discountPercent: 25,
       unit: 'per package',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Includes cheeks, lips, and jawline. Consultation required.',
       isActive: true,
       isFeatured: true,
       isSponsored: true,
       claimCount: 28,
       viewCount: 2400,
       createdAt: '2024-03-05T10:00:00Z',
       updatedAt: '2024-03-05T10:00:00Z',
     },
     {
       id: 'deal-12',
       businessId: 'biz-2',
       title: 'Laser Skin Resurfacing',
       description: 'Fractional CO2 laser for wrinkles, scars, and texture.',
       category: 'laser',
       originalPrice: 1200,
       dealPrice: 899,
       discountPercent: 25,
       unit: 'per session',
       validFrom: '2024-01-01T00:00:00Z',
       validUntil: '2024-12-31T23:59:59Z',
       termsAndConditions: 'Requires 1 week downtime. Consultation required.',
       isActive: true,
       isFeatured: false,
       isSponsored: false,
       claimCount: 12,
       viewCount: 650,
       createdAt: '2024-03-10T10:00:00Z',
       updatedAt: '2024-03-10T10:00:00Z',
     },
   ]

   // Helper to convert Deal to AnonymousDeal (hides business details)
   export function toAnonymousDeal(deal: Deal): AnonymousDeal {
     const business = businesses.find(b => b.id === deal.businessId)
     if (!business) throw new Error(`Business not found: ${deal.businessId}`)

     const { businessId, ...rest } = deal
     return {
       ...rest,
       locationArea: business.locationArea,
       businessRating: business.rating,
       businessReviewCount: business.reviewCount,
       businessTier: business.tier,
     }
   }
   ```

4. Create src/lib/mock-data/consumers.ts:
   ```typescript
   import type { Consumer, Claim, ClaimStatus } from '@/types'

   export const consumers: Consumer[] = [
     {
       id: 'user-1',
       email: 'sarah@example.com',
       phone: '+15125551234',
       firstName: 'Sarah',
       lastName: 'Johnson',
       verificationStatus: 'fully_verified',
       emailVerifiedAt: '2024-02-01T10:00:00Z',
       phoneVerifiedAt: '2024-02-01T10:15:00Z',
       locationCity: 'Austin',
       locationState: 'TX',
       alertsEmail: true,
       alertsSms: true,
       favoriteCategories: ['botox', 'facials'],
       createdAt: '2024-02-01T09:00:00Z',
       updatedAt: '2024-03-15T10:00:00Z',
       lastLoginAt: '2024-03-15T10:00:00Z',
     },
     {
       id: 'user-2',
       email: 'mike@example.com',
       firstName: 'Mike',
       verificationStatus: 'email_verified',
       emailVerifiedAt: '2024-03-01T14:00:00Z',
       locationCity: 'Dallas',
       locationState: 'TX',
       alertsEmail: true,
       alertsSms: false,
       favoriteCategories: [],
       createdAt: '2024-03-01T13:00:00Z',
       updatedAt: '2024-03-01T14:00:00Z',
     },
     {
       id: 'user-3',
       email: 'new@example.com',
       verificationStatus: 'unverified',
       alertsEmail: false,
       alertsSms: false,
       favoriteCategories: [],
       createdAt: '2024-03-15T10:00:00Z',
       updatedAt: '2024-03-15T10:00:00Z',
     },
   ]

   export const claims: Claim[] = [
     {
       id: 'claim-1',
       dealId: 'deal-1',
       consumerId: 'user-1',
       businessId: 'biz-1',
       status: 'completed',
       preferredDate: '2024-02-15',
       preferredTime: '10:00 AM',
       notes: 'First time getting Botox, a bit nervous!',
       businessResponse: 'Looking forward to seeing you! Our injector will walk you through everything.',
       respondedAt: '2024-02-02T09:00:00Z',
       bookedDate: '2024-02-15',
       bookedTime: '10:30 AM',
       createdAt: '2024-02-01T11:00:00Z',
       updatedAt: '2024-02-15T12:00:00Z',
       expiresAt: '2024-02-08T11:00:00Z',
     },
     {
       id: 'claim-2',
       dealId: 'deal-5',
       consumerId: 'user-1',
       businessId: 'biz-4',
       status: 'booked',
       preferredDate: '2024-03-20',
       preferredTime: '2:00 PM',
       businessResponse: 'Confirmed for March 20th at 2 PM!',
       respondedAt: '2024-03-16T10:00:00Z',
       bookedDate: '2024-03-20',
       bookedTime: '2:00 PM',
       createdAt: '2024-03-15T15:00:00Z',
       updatedAt: '2024-03-16T10:00:00Z',
       expiresAt: '2024-03-22T15:00:00Z',
     },
     {
       id: 'claim-3',
       dealId: 'deal-3',
       consumerId: 'user-1',
       businessId: 'biz-3',
       status: 'pending',
       preferredDate: '2024-03-25',
       preferredTime: 'Afternoon',
       notes: 'Flexible on exact time',
       createdAt: '2024-03-15T16:00:00Z',
       updatedAt: '2024-03-15T16:00:00Z',
       expiresAt: '2024-03-22T16:00:00Z',
     },
     {
       id: 'claim-4',
       dealId: 'deal-2',
       consumerId: 'user-2',
       businessId: 'biz-5',
       status: 'contacted',
       preferredDate: '2024-03-18',
       businessResponse: 'Thanks for your interest! We have availability on the 18th. What time works for you?',
       respondedAt: '2024-03-16T11:00:00Z',
       createdAt: '2024-03-15T09:00:00Z',
       updatedAt: '2024-03-16T11:00:00Z',
       expiresAt: '2024-03-22T09:00:00Z',
     },
   ]
   ```
  </action>
  <verify>All fixtures import correctly, TypeScript validates types</verify>
  <done>Mock fixtures for 3 cities, 7 areas, 6 businesses, 12 deals, 3 consumers, 4 claims</done>
</task>

<task type="auto">
  <name>Task 3: Create data access utilities and barrel export</name>
  <files>src/lib/mock-data/index.ts, src/lib/mock-data/utils.ts</files>
  <action>
1. Create src/lib/mock-data/utils.ts with query helpers:
   ```typescript
   import type { Deal, AnonymousDeal, Business, City, LocationArea, Claim, TreatmentCategory, ClaimStatus } from '@/types'
   import { deals, toAnonymousDeal } from './deals'
   import { businesses } from './businesses'
   import { cities, locationAreas } from './locations'
   import { claims, consumers } from './consumers'

   // Deal queries
   export function getActiveDeals(): AnonymousDeal[] {
     return deals
       .filter(d => d.isActive)
       .map(toAnonymousDeal)
   }

   export function getDealsByCategory(category: TreatmentCategory): AnonymousDeal[] {
     return deals
       .filter(d => d.isActive && d.category === category)
       .map(toAnonymousDeal)
   }

   export function getDealsByCity(cityName: string): AnonymousDeal[] {
     const cityBusinessIds = businesses
       .filter(b => b.city.toLowerCase() === cityName.toLowerCase())
       .map(b => b.id)

     return deals
       .filter(d => d.isActive && cityBusinessIds.includes(d.businessId))
       .map(toAnonymousDeal)
   }

   export function getFeaturedDeals(): AnonymousDeal[] {
     return deals
       .filter(d => d.isActive && d.isFeatured)
       .map(toAnonymousDeal)
   }

   export function getSponsoredDeals(): AnonymousDeal[] {
     return deals
       .filter(d => d.isActive && d.isSponsored)
       .map(toAnonymousDeal)
   }

   export function getDealById(id: string): Deal | undefined {
     return deals.find(d => d.id === id)
   }

   export function getAnonymousDealById(id: string): AnonymousDeal | undefined {
     const deal = deals.find(d => d.id === id)
     return deal ? toAnonymousDeal(deal) : undefined
   }

   // Business queries (only for revealed/logged-in views)
   export function getBusinessById(id: string): Business | undefined {
     return businesses.find(b => b.id === id)
   }

   export function getBusinessForDeal(dealId: string): Business | undefined {
     const deal = deals.find(d => d.id === dealId)
     return deal ? businesses.find(b => b.id === deal.businessId) : undefined
   }

   // Location queries
   export function getActiveCities(): City[] {
     return cities.filter(c => c.isActive)
   }

   export function getAreasForCity(cityId: string): LocationArea[] {
     return locationAreas.filter(a => a.cityId === cityId)
   }

   export function getCityByName(name: string): City | undefined {
     return cities.find(c => c.name.toLowerCase() === name.toLowerCase())
   }

   // Consumer queries
   export function getConsumerById(id: string) {
     return consumers.find(c => c.id === id)
   }

   // Claim queries
   export function getClaimsByConsumer(consumerId: string): Claim[] {
     return claims.filter(c => c.consumerId === consumerId)
   }

   export function getClaimsByStatus(status: ClaimStatus): Claim[] {
     return claims.filter(c => c.status === status)
   }

   export function getClaimById(id: string): Claim | undefined {
     return claims.find(c => c.id === id)
   }

   // Filter and sort helpers
   export interface DealFilters {
     category?: TreatmentCategory
     city?: string
     minPrice?: number
     maxPrice?: number
     minDiscount?: number
   }

   export function filterDeals(filters: DealFilters): AnonymousDeal[] {
     let result = getActiveDeals()

     if (filters.category) {
       result = result.filter(d => d.category === filters.category)
     }

     if (filters.city) {
       const cityBusinessIds = businesses
         .filter(b => b.city.toLowerCase() === filters.city!.toLowerCase())
         .map(b => b.id)
       result = result.filter(d => {
         const deal = deals.find(dd => dd.id === d.id)
         return deal && cityBusinessIds.includes(deal.businessId)
       })
     }

     if (filters.minPrice !== undefined) {
       result = result.filter(d => d.dealPrice >= filters.minPrice!)
     }

     if (filters.maxPrice !== undefined) {
       result = result.filter(d => d.dealPrice <= filters.maxPrice!)
     }

     if (filters.minDiscount !== undefined) {
       result = result.filter(d => d.discountPercent >= filters.minDiscount!)
     }

     return result
   }

   export type SortOption = 'price-asc' | 'price-desc' | 'discount' | 'popular' | 'newest'

   export function sortDeals(deals: AnonymousDeal[], sortBy: SortOption): AnonymousDeal[] {
     const sorted = [...deals]

     switch (sortBy) {
       case 'price-asc':
         return sorted.sort((a, b) => a.dealPrice - b.dealPrice)
       case 'price-desc':
         return sorted.sort((a, b) => b.dealPrice - a.dealPrice)
       case 'discount':
         return sorted.sort((a, b) => b.discountPercent - a.discountPercent)
       case 'popular':
         return sorted.sort((a, b) => b.claimCount - a.claimCount)
       case 'newest':
         return sorted.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())
       default:
         return sorted
     }
   }
   ```

2. Create src/lib/mock-data/index.ts (barrel export):
   ```typescript
   // Raw data exports
   export { deals, toAnonymousDeal } from './deals'
   export { businesses } from './businesses'
   export { cities, locationAreas } from './locations'
   export { consumers, claims } from './consumers'

   // Query utilities
   export {
     // Deals
     getActiveDeals,
     getDealsByCategory,
     getDealsByCity,
     getFeaturedDeals,
     getSponsoredDeals,
     getDealById,
     getAnonymousDealById,
     // Businesses
     getBusinessById,
     getBusinessForDeal,
     // Locations
     getActiveCities,
     getAreasForCity,
     getCityByName,
     // Consumers
     getConsumerById,
     // Claims
     getClaimsByConsumer,
     getClaimsByStatus,
     getClaimById,
     // Filtering & Sorting
     filterDeals,
     sortDeals,
     type DealFilters,
     type SortOption,
   } from './utils'
   ```

3. Test the mock data by importing and using in page.tsx temporarily:
   ```tsx
   import { getActiveDeals, getActiveCities, getFeaturedDeals } from '@/lib/mock-data'

   export default function Home() {
     const deals = getActiveDeals()
     const cities = getActiveCities()
     const featured = getFeaturedDeals()

     return (
       <div className="p-8">
         <h1>Mock Data Test</h1>
         <p>Active deals: {deals.length}</p>
         <p>Active cities: {cities.length}</p>
         <p>Featured deals: {featured.length}</p>
       </div>
     )
   }
   ```
  </action>
  <verify>npm run build succeeds, all utilities importable, page displays correct counts</verify>
  <done>Complete mock data layer with query utilities, filtering, sorting, ready for UI consumption</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All type files compile without errors
- [ ] All mock data fixtures are valid TypeScript
- [ ] Query utilities return correct data
- [ ] `npm run build` succeeds
- [ ] Test page shows: 12 active deals, 3 cities, multiple featured deals
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Types match Supabase schema expectations (id, timestamps, relations)
- Mock data covers all tiers (unclaimed, free, paid)
- Mock data covers all categories (botox, fillers, facials, laser)
- Query utilities support filtering and sorting needs
- Anonymous/revealed pattern implemented correctly
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-03-SUMMARY.md`
</output>
