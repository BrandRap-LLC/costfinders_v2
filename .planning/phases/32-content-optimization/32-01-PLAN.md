---
phase: 32-content-optimization
plan: 01
type: execute
---

<objective>
Optimize page content for SEO: enhanced metadata helpers, FAQ component with structured data, and FAQ integration on State and Category pages.

Purpose: Improve search engine visibility with keyword-rich titles, FAQPage schema, and user-helpful content blocks.
Output: Enhanced metadata functions, reusable FAQ component with JSON-LD schema, FAQ sections on 2 page types.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context
@.planning/phases/31-internal-linking/31-02-SUMMARY.md

# Relevant source files
@src/lib/seo/metadata.ts
@src/components/seo/index.ts
@src/app/treatments/[category]/page.tsx
@src/app/[state]/page.tsx

**Tech stack available:** Next.js 16, Tailwind CSS v4, Phosphor Icons
**Established patterns:** Glassmorphic UI components, JSON-LD schema components, SEO metadata helpers
**Constraining decisions:**
- Phase 24: SEO foundation with buildCanonicalUrl, SITE_CONFIG patterns
- Phase 31: RelatedLinks component pattern for reusable UI blocks
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhanced Metadata Helpers</name>
  <files>src/lib/seo/metadata.ts</files>
  <action>
Add three new metadata generator functions with keyword-optimized patterns:

1. `generateNeighborhoodMetadata(neighborhood, city, state, stats)`:
   - Title format: `"{neighborhood} Medspa Deals in {city}, {state} | Compare {n} Offers"`
   - Description with action verbs: "Compare", "Save up to", "Book today"
   - Include dealCount and businessCount in description

2. `generateProviderMetadata(provider, city, state, stats)`:
   - Title format: `"{provider} - Medspa Deals in {city}, {state}"`
   - Description highlighting provider deals and services
   - Include canonical URL

3. `generateCategoryMetadata(category, stats)`:
   - Title format: `"{category} Treatments: {n} Deals from ${minPrice} | CostFinders"`
   - Description with deal count and provider count
   - Include canonical URL

All functions should follow existing patterns: return Metadata object with title, description, openGraph, twitter, and alternates.canonical.
  </action>
  <verify>TypeScript compiles without errors: `npm run build` succeeds</verify>
  <done>Three new metadata functions exist with keyword-rich title patterns and action-oriented descriptions</done>
</task>

<task type="auto">
  <name>Task 2: FAQ Component with Schema</name>
  <files>src/components/ui/faq.tsx, src/components/seo/faqSchema.tsx, src/components/seo/index.ts</files>
  <action>
Create two components:

1. `src/components/ui/faq.tsx` - FAQ accordion component:
   - Props: `items: Array<{question: string, answer: string}>`, optional `className`
   - Use semantic `<details>/<summary>` elements for accessibility
   - Apply glassmorphic styling matching RelatedLinks component
   - Use CaretDown from @phosphor-icons/react for expand indicator
   - Return null if items array is empty

2. `src/components/seo/faqSchema.tsx` - FAQPage JSON-LD schema:
   - Props: `items: Array<{question: string, answer: string}>`
   - Generate valid FAQPage structured data per schema.org spec
   - Render in script tag with type="application/ld+json"

3. Export FaqSchema from `src/components/seo/index.ts`

Use existing schema components as reference (breadcrumbSchema.tsx pattern).
  </action>
  <verify>Components render without errors, FAQ expands/collapses, JSON-LD appears in page source</verify>
  <done>FAQ component with accessible accordion, FaqSchema component generating valid FAQPage structured data</done>
</task>

<task type="auto">
  <name>Task 3: FAQ Data and Page Integration</name>
  <files>src/lib/seo/faq-content.ts, src/app/treatments/[category]/page.tsx, src/app/[state]/page.tsx</files>
  <action>
1. Create `src/lib/seo/faq-content.ts`:
   - `getCategoryFaqs(categoryName: string)` returning 3-4 FAQs about treatment type
     Example for "Botox": "How long does Botox last?", "Is Botox painful?", etc.
   - `getStateFaqs(stateName: string)` returning 3-4 FAQs about medspas in state
     Example for "California": "How do I find a reputable medspa?", "Are medspa prices regulated?", etc.
   - Use generic templates that work with any category/state name

2. Update `src/app/treatments/[category]/page.tsx`:
   - Import FAQ and FaqSchema components
   - Import getCategoryFaqs helper
   - Add FAQ section after RelatedLinks section (before back navigation)
   - Include FaqSchema structured data next to BreadcrumbSchema

3. Update `src/app/[state]/page.tsx`:
   - Import FAQ and FaqSchema components
   - Import getStateFaqs helper
   - Add FAQ section after RelatedLinks section
   - Include FaqSchema structured data next to BreadcrumbSchema
  </action>
  <verify>
- Visit /treatments/botox - FAQ section visible with 3-4 expandable questions
- Visit /california - FAQ section visible with 3-4 expandable questions
- View page source - FAQPage JSON-LD present in both pages
  </verify>
  <done>FAQ sections render on Category and State pages with FAQPage structured data in page source</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] Three new metadata helpers exist in src/lib/seo/metadata.ts
- [ ] FAQ component expands/collapses with accessible keyboard interaction
- [ ] Category page (/treatments/botox) shows FAQ section
- [ ] State page (/california) shows FAQ section
- [ ] FAQPage JSON-LD structured data visible in page source for both page types
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors or warnings
- FAQ sections enhance SEO pages without disrupting existing layout
- Phase 32 complete, ready for Phase 33 (Performance & Core Web Vitals)
</success_criteria>

<output>
After completion, create `.planning/phases/32-content-optimization/32-01-SUMMARY.md` using summary template with:
- Enhanced metadata helpers added
- FAQ component and schema created
- FAQ integrated on Category and State pages
- Files created/modified list
- Any deviations from plan
</output>
