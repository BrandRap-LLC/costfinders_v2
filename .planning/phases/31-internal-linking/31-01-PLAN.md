---
phase: 31-internal-linking
plan: 01
title: Breadcrumb Navigation Component & Integration
scope: Create reusable visual Breadcrumb component and integrate across all SEO pages
depends_on:
  - 30-dynamic-sitemap (sitemap complete, page hierarchy established)
  - 24-seo-foundation (BreadcrumbSchema JSON-LD exists)
estimated_tasks: 3
discovery_level: 0
---

# Plan 31-01: Breadcrumb Navigation Component & Integration

## Context

Phase 31 focuses on internal linking for SEO. This first plan addresses the duplicated inline breadcrumb navigation across all SEO pages by creating a reusable component.

### Current State
- `BreadcrumbSchema` component exists for JSON-LD structured data (used correctly)
- Visual breadcrumb navigation is duplicated inline in 5+ page types:
  - State pages (`/[state]/page.tsx`)
  - City pages (`/[state]/[city]/page.tsx`)
  - Neighborhood pages (`/[state]/[city]/[neighborhood]/page.tsx`)
  - Provider pages (`/[state]/[city]/provider/[slug]/page.tsx`)
  - Category pages (`/treatments/[category]/page.tsx`)
- Each page has similar `<nav className="mb-6 text-sm...">` markup

### Goal
Create a reusable `Breadcrumb` component that renders the visual breadcrumb navigation, then integrate it across all SEO pages to eliminate duplication.

## Tasks

### Task 1: Create Breadcrumb Visual Component
**Type:** auto
**Why:** DRY principle - extract duplicated breadcrumb UI into reusable component

Create `src/components/ui/breadcrumb.tsx`:

```tsx
import Link from 'next/link'
import { CaretRight } from '@phosphor-icons/react/dist/ssr'

export interface BreadcrumbItem {
  label: string
  href?: string  // Optional: no href = current page (no link)
}

interface BreadcrumbProps {
  items: BreadcrumbItem[]
  className?: string
}

/**
 * Breadcrumb - Visual breadcrumb navigation component
 * Renders Home > Parent > Current style navigation
 *
 * Note: For JSON-LD structured data, use BreadcrumbSchema from @/components/seo
 */
export function Breadcrumb({ items, className = '' }: BreadcrumbProps) {
  return (
    <nav
      className={`mb-6 text-sm text-text-tertiary ${className}`}
      aria-label="Breadcrumb"
    >
      <ol className="flex items-center gap-2 flex-wrap">
        {items.map((item, index) => {
          const isLast = index === items.length - 1

          return (
            <li key={item.label} className="flex items-center gap-2">
              {index > 0 && (
                <CaretRight size={12} weight="bold" className="text-text-tertiary" />
              )}
              {item.href && !isLast ? (
                <Link
                  href={item.href}
                  className="hover:text-text-primary transition-colors"
                >
                  {item.label}
                </Link>
              ) : (
                <span className={isLast ? 'text-text-primary' : ''}>
                  {item.label}
                </span>
              )}
            </li>
          )
        })}
      </ol>
    </nav>
  )
}
```

**Verify:**
- [ ] File created at `src/components/ui/breadcrumb.tsx`
- [ ] Component accepts `items` array and optional `className`
- [ ] Last item renders without link (current page)
- [ ] Uses CaretRight icon for separators (consistent with design)

### Task 2: Integrate Breadcrumb into Location Pages
**Type:** auto
**Why:** Replace inline breadcrumb markup in state, city, neighborhood, and provider pages

Update these files to use the new Breadcrumb component:

**State page (`src/app/[state]/page.tsx`):**
```tsx
// Add import
import { Breadcrumb } from '@/components/ui/breadcrumb'

// Replace inline <nav> breadcrumb with:
<Breadcrumb
  items={[
    { label: 'Home', href: '/' },
    { label: state.name },
  ]}
/>
```

**City page (`src/app/[state]/[city]/page.tsx`):**
```tsx
<Breadcrumb
  items={[
    { label: 'Home', href: '/' },
    { label: state.name, href: `/${state.slug}` },
    { label: city.name },
  ]}
/>
```

**Neighborhood page (`src/app/[state]/[city]/[neighborhood]/page.tsx`):**
```tsx
<Breadcrumb
  items={[
    { label: 'Home', href: '/' },
    { label: state.name, href: `/${state.slug}` },
    { label: city.name, href: `/${state.slug}/${citySlug}` },
    { label: neighborhood.name },
  ]}
/>
```

**Provider page (`src/app/[state]/[city]/provider/[slug]/page.tsx`):**
```tsx
<Breadcrumb
  items={[
    { label: 'Home', href: '/' },
    { label: state.name, href: `/${state.slug}` },
    { label: city.name, href: `/${state.slug}/${citySlug}` },
    { label: provider.name },
  ]}
/>
```

**Verify:**
- [ ] Import added to all 4 location page files
- [ ] Inline `<nav>` breadcrumb removed from all 4 files
- [ ] `Breadcrumb` component renders in hero section of each page
- [ ] `npm run build` succeeds without errors

### Task 3: Integrate Breadcrumb into Category Pages
**Type:** checkpoint:human-verify
**Why:** Category pages have different hierarchy (Home > Treatments > Category)

Update `src/app/treatments/[category]/page.tsx`:

```tsx
// Add import
import { Breadcrumb } from '@/components/ui/breadcrumb'

// Replace inline <nav> breadcrumb with:
<Breadcrumb
  items={[
    { label: 'Home', href: '/' },
    { label: 'Treatments', href: '/treatments' },
    { label: category.name },
  ]}
/>
```

**Note:** The "Treatments" link points to `/treatments` which may not exist yet. This is intentional - it will be created in a future phase or can 404 gracefully for now.

**Verify:**
- [ ] Import added to category page
- [ ] Inline `<nav>` breadcrumb removed
- [ ] Breadcrumb shows: Home > Treatments > [Category Name]
- [ ] `npm run build` succeeds
- [ ] Visual verification: Navigate to `/treatments/botox` and confirm breadcrumb appears correctly

## Completion Criteria

- [ ] `Breadcrumb` component exists at `src/components/ui/breadcrumb.tsx`
- [ ] All 5 SEO page types use the new component
- [ ] No inline breadcrumb `<nav>` elements remain in SEO pages
- [ ] `npm run build` succeeds
- [ ] Visual breadcrumbs render correctly on all page types

## Notes

- The existing `BreadcrumbSchema` component (JSON-LD) remains unchanged - it handles structured data for search engines
- The new `Breadcrumb` component handles visual navigation for users
- Both components accept similar item arrays for consistency
- CaretRight icon chosen for consistency with glassmorphic design system
